# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),  
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

---


## [1.0.3] - 05/11/2025

### Fixed

* **Verification form display issue** Fixed a problem where the 2FA test verification form was not shown immediately after the user generated their recovery codes for the first time. The form previously appeared only after a manual page refresh.
* **Error handling improvements**, Added defensive checks in `updatedBatchHistorySection.js` and `batchCardUtils.js` to prevent runtime errors caused by attempting to access the length of a `null` element.
* The verification form now appears automatically on first setup and remains visible until the user successfully verifies their 2FA code.

---

### Technical details

* Introduced early-return logic in `markCardFieldHelper()` to ensure code execution continues only if valid DOM elements are present.
* Added conditional querying in `getCardFieldElements()` to avoid calling `.querySelectorAll()` on an undefined element.



## [1.0.1] - 7/10/25

- Fixed an issue where `resp.BATCH` became undefined in `handleCanGenerateCodeSuccessUI` due to variable shadowing.
  - The response from `sendPostFetchWithoutBody(...)` was previously assigned to `resp`, overwriting the original response.
  - Now it is assigned to `postResp`, preventing the batch from being shadowed and ensuring `updateBatchHistorySection` works correctly.
  - This allows when the code is generated the record is also generated at the same time.



## [1.0.1] - 7/10/25
Removed if the conversion for native datetime to a string which could potential cause Django-q to choke
ran 
```
python manage.py flush_tasks -all
```
to remove all schedulers and ensure no errors


## [1.0.0] - 28/09/2025

### Added
- Initial public release of `django_auth_recovery_codes`.
- Lightweight Django app for generating, storing, and managing **2FA recovery codes**.
- Provides a secure fallback login option if 2FA access is lost.
- Supports fine-grained control and asynchronous management for better performance and UX.
- Integrates easily into any Django project without requiring a full 2FA system.
